"use strict";(self.webpackChunkmidjourney_proxy_admin=self.webpackChunkmidjourney_proxy_admin||[]).push([[201],{2891:function(la,Ce,r){r.r(Ce),r.d(Ce,{default:function(){return ra}});var Ae=r(15009),y=r.n(Ae),Re=r(97857),ce=r.n(Re),Oe=r(99289),G=r.n(Oe),Fe=r(5574),j=r.n(Fe),J=r(66927),ge=r(16568),ye=r(86738),U=r(28036),De=r(82061),g=r(67294),te=r(94272),e=r(85893),Be=function(I){var Z=I.record,i=I.onSuccess,S=(0,g.useState)(!1),t=j()(S,2),s=t[0],T=t[1],P=(0,g.useState)(!1),E=j()(P,2),V=E[0],B=E[1],C=ge.ZP.useNotification(),D=j()(C,2),k=D[0],$=D[1],A=(0,te.useIntl)(),R=function(){T(!0)},N=function(){var F=G()(y()().mark(function v(){var u;return y()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return B(!0),o.prev=1,o.next=4,(0,J.tm)(Z.id);case 4:u=o.sent,T(!1),u.success?(k.success({message:"success",description:A.formatMessage({id:"pages.account.deleteSuccess"})}),i()):k.error({message:"error",description:u.message}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),console.error(o.t0);case 12:return o.prev=12,B(!1),o.finish(12);case 15:case"end":return o.stop()}},v,null,[[1,9,12,15]])}));return function(){return F.apply(this,arguments)}}(),Y=function(){T(!1)};return(0,e.jsxs)(ye.Z,{title:A.formatMessage({id:"pages.account.delete"}),description:A.formatMessage({id:"pages.account.deleteTitle"}),open:s,onConfirm:N,okButtonProps:{loading:V},onCancel:Y,children:[$,(0,e.jsx)(U.ZP,{danger:!0,icon:(0,e.jsx)(De.Z,{}),onClick:R})]})},Ne=Be,be=r(98165),Pe=function(I){var Z=I.record,i=I.onSuccess,S=(0,g.useState)(!1),t=j()(S,2),s=t[0],T=t[1],P=(0,g.useState)(!1),E=j()(P,2),V=E[0],B=E[1],C=ge.ZP.useNotification(),D=j()(C,2),k=D[0],$=D[1],A=(0,te.useIntl)(),R=function(){T(!0)},N=function(){var F=G()(y()().mark(function v(){var u;return y()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return B(!0),o.prev=1,o.next=4,(0,J.Je)(Z.id);case 4:u=o.sent,console.log("resss",u),T(!1),u.success?(k.success({message:"success",description:A.formatMessage({id:"pages.account.syncSuccess"})}),i()):(k.error({message:"error",description:u.message}),i()),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.error(o.t0);case 13:return o.prev=13,B(!1),o.finish(13);case 16:case"end":return o.stop()}},v,null,[[1,10,13,16]])}));return function(){return F.apply(this,arguments)}}(),Y=function(){T(!1)};return(0,e.jsxs)(ye.Z,{title:A.formatMessage({id:"pages.account.sync"}),description:A.formatMessage({id:"pages.account.syncTitle"}),open:s,onConfirm:N,okButtonProps:{loading:V},onCancel:Y,children:[$,(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(be.Z,{}),onClick:R})]})},Le=Pe,a=r(53025),pe=r(71230),se=r(15746),W=r(4393),l=r(26915),M=r(72269),O=r(74656),w=r(37804),ue=r(42075),he=r(28248),xe=r(40056),Ie=r(5785),ze=function(I){var Z=I.form,i=I.onSubmit,S=I.r,t=(0,te.useIntl)();(0,g.useEffect)(function(){var v=localStorage.getItem("account_cache");if(v)try{Z.setFieldsValue(JSON.parse(v))}catch(u){Z.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})}else Z.setFieldsValue({userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36",coreSize:3,queueSize:10,timeoutMinutes:5})},[S]);var s=(0,g.useState)([]),T=j()(s,2),P=T[0],E=T[1];(0,g.useEffect)(function(){(0,J.fl)().then(function(v){v.success&&E(v.data)})},[]);var V=(0,g.useState)(!1),B=j()(V,2),C=B[0],D=B[1],k=(0,g.useState)(""),$=j()(k,2),A=$[0],R=$[1],N=function(){D(!0)},Y=function(){Z.setFieldsValue({subChannels:A.split(`
`)}),D(!1)},F=function(){D(!1)};return(0,e.jsxs)(a.Z,{form:Z,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[(0,e.jsxs)(pe.Z,{gutter:16,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:t.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.userToken"}),name:"userToken",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableRelaxToFast"}),name:"enableRelaxToFast",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableRelaxToFastTips"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(O.Z,{allowClear:!0,children:[(0,e.jsx)(O.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(O.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(O.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",children:(0,e.jsxs)(O.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(O.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(O.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(O.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableAutoSetRelax"}),name:"enableAutoSetRelax",valuePropName:"checked",tooltip:t.formatMessage({id:"pages.account.enableAutoSetRelaxTips"}),children:(0,e.jsx)(M.Z,{})})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:t.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(w.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(ue.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(w.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(w.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",children:(0,e.jsx)(w.Z,{min:-1})})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:t.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(O.Z,{options:P,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(w.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(w.Z,{min:1,suffix:t.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(l.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(l.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.fishingTime"}),help:t.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(l.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){R(Z.getFieldValue("subChannels").join(`
`)),N()},icon:(0,e.jsx)(Ie.Z,{})}),children:(0,e.jsx)(l.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:t.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(l.Z,{})})]})})]}),(0,e.jsxs)(he.Z,{title:t.formatMessage({id:"pages.account.subChannels"}),visible:C,onOk:Y,onCancel:F,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(xe.Z,{message:t.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(l.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:A,onChange:function(u){R(u.target.value)}})]})]})},we=ze,Ue=function(I){var Z=I.form,i=I.onSubmit,S=I.record,t=(0,te.useIntl)(),s=ge.ZP.useNotification(),T=j()(s,2),P=T[0],E=T[1],V=(0,g.useState)(),B=j()(V,2),C=B[0],D=B[1],k=(0,g.useState)(!1),$=j()(k,2),A=$[0],R=$[1];(0,g.useEffect)(function(){D(S)},[]);var N=function(){var F=G()(y()().mark(function v(){var u;return y()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return R(!0),o.next=3,(0,J.qG)(S.id);case 3:u=o.sent,R(!1),u.success&&D(u.data);case 6:case"end":return o.stop()}},v)}));return function(){return F.apply(this,arguments)}}(),Y=function(){var F=G()(y()().mark(function v(){var u;return y()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return R(!0),o.next=3,(0,J.eD)(S.id);case 3:u=o.sent,R(!1),u.success&&(P.success({message:"success",description:"Success"}),i(C));case 6:case"end":return o.stop()}},v)}));return function(){return F.apply(this,arguments)}}();return(0,e.jsxs)(a.Z,{form:Z,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[E,(0,e.jsx)(pe.Z,{gutter:16,children:(0,e.jsxs)(se.Z,{span:24,style:{padding:12},children:[C&&(0,e.jsx)("a",{target:"_blank",rel:"noreferrer",href:C==null?void 0:C.cfUrl,children:(C==null?void 0:C.cfUrl)||"-"}),(0,e.jsx)("br",{}),(0,e.jsxs)(ue.Z,{style:{marginTop:12},children:[(0,e.jsx)(U.ZP,{onClick:N,loading:A,type:"default",children:t.formatMessage({id:"pages.account.cfRefresh"})}),(0,e.jsx)(U.ZP,{onClick:Y,loading:A,type:"primary",children:t.formatMessage({id:"pages.account.cfok"})})]})]})})]})},Ee=Ue,le=r(66309),de=r(83062),b=r(26412),Ve=r(27484),Te=r.n(Ve),$e=O.Z.Option,He=function(I){var Z,i=I.record,S=I.onSuccess,t=ge.ZP.useNotification(),s=j()(t,2),T=s[0],P=s[1],E=(0,g.useState)(""),V=j()(E,2),B=V[0],C=V[1],D=(0,g.useState)([]),k=j()(D,2),$=k[0],A=k[1],R=(0,g.useState)([]),N=j()(R,2),Y=N[0],F=N[1],v=(0,g.useState)(!1),u=j()(v,2),H=u[0],o=u[1],je=(0,g.useState)(""),K=j()(je,2),fe=K[0],Ze=K[1],d=(0,te.useIntl)();(0,g.useEffect)(function(){C(i.version),A(i.buttons),F(i.nijiButtons)},[i]);var ve=function(p,L,_){var re=p?"green":"volcano",ae=p?L:_;return(0,e.jsx)(le.Z,{color:re,children:ae})},X=function(p){return!p||p.length<25?p:(0,e.jsx)(de.Z,{title:p,children:p.substring(0,25)+"..."})},f=function(p){return Te()(p).format("YYYY-MM-DD HH:mm")},Me=function(){var p;return(p=i.versionSelector)===null||p===void 0?void 0:p.map(function(L){return(0,e.jsxs)($e,{value:L.customId,children:[L.emoji," ",L.label]},L.customId)})},ee=function(){return $.map(function(p){return(0,e.jsxs)(U.ZP,{ghost:!0,style:{backgroundColor:p.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){q("MID_JOURNEY",p.customId)},loading:fe=="MID_JOURNEY:"+p.customId,children:[p.emoji," ",p.label]},"MID_JOURNEY:"+p.customId)})},ie=function(){return Y.map(function(p){return(0,e.jsxs)(U.ZP,{ghost:!0,style:{backgroundColor:p.style==3?"#258146":"rgb(131 133 142)"},onClick:function(){q("NIJI_JOURNEY",p.customId)},loading:fe=="NIJI_JOURNEY:"+p.customId,children:[p.emoji," ",p.label]},"NIJI_JOURNEY:"+p.customId)})},Se=function(){var Q=G()(y()().mark(function p(L){var _;return y()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return C(L),o(!0),ae.next=4,(0,J.p3)(i.id,L);case 4:_=ae.sent,_.success?(o(!1),T.success({message:"success",description:d.formatMessage({id:"pages.account.mjVersionSuccess"})}),S()):(C(i.version),o(!1),T.error({message:"error",description:_.message}));case 6:case"end":return ae.stop()}},p)}));return function(L){return Q.apply(this,arguments)}}(),q=function(){var Q=G()(y()().mark(function p(L,_){var re;return y()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(fe===""){h.next=2;break}return h.abrupt("return");case 2:return Ze(L+":"+_),h.next=5,(0,J.wO)(i.id,L,_);case 5:re=h.sent,Ze(""),re.success?S():T.error({message:"error",description:re.message});case 8:case"end":return h.stop()}},p)}));return function(L,_){return Q.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[P,(0,e.jsx)(W.Z,{type:"inner",title:d.formatMessage({id:"pages.account.info"}),style:{margin:"5px"},children:(0,e.jsxs)(b.Z,{column:3,children:[(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.guildId"}),children:i.guildId}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.channelId"}),children:i.channelId}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.userToken"}),children:X(i.userToken)}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.botToken"}),children:X(i.botToken)}),(0,e.jsxs)(b.Z.Item,{label:"User Agent",children:[X(i.userAgent)," "]}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.remixAutoSubmit"}),children:ve(i.remixAutoSubmit,d.formatMessage({id:"pages.yes"}),d.formatMessage({id:"pages.no"}))}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.mjChannelId"}),children:i.privateChannelId}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.nijiChannelId"}),children:i.nijiBotChannelId})]})}),(0,e.jsx)(W.Z,{type:"inner",title:d.formatMessage({id:"pages.account.basicInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(b.Z,{column:3,children:[(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.status"}),children:ve(i.enable,d.formatMessage({id:"pages.enable"}),d.formatMessage({id:"pages.disable"}))}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.mjMode"}),children:i.displays.mode}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.nijiMode"}),children:i.displays.nijiMode}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.subscribePlan"}),children:i.displays.subscribePlan}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.billedWay"}),children:i.displays.billedWay}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.renewDate"}),children:i.displays.renewDate}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.fastTimeRemaining"}),children:i.fastTimeRemaining}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.relaxedUsage"}),children:i.relaxedUsage}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.fastUsage"}),children:i.fastUsage}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.turboUsage"}),children:i.turboUsage}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.lifetimeUsage"}),children:i.lifetimeUsage})]})}),(0,e.jsx)(W.Z,{type:"inner",title:d.formatMessage({id:"pages.account.otherInfo"}),style:{margin:"5px"},children:(0,e.jsxs)(b.Z,{column:3,children:[(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.coreSize"}),children:i.coreSize}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.queueSize"}),children:i.queueSize}),(0,e.jsxs)(b.Z.Item,{label:d.formatMessage({id:"pages.account.timeoutMinutes"}),children:[i.timeoutMinutes," ",d.formatMessage({id:"pages.minutes"})]}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.weight"}),children:i.weight}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.dateCreated"}),children:f(i.dateCreated)}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.remark"}),children:X(i.remark)}),(0,e.jsx)(b.Z.Item,{label:d.formatMessage({id:"pages.account.disabledReason"}),children:X(i.disabledReason)})]})}),(0,e.jsxs)(W.Z,{type:"inner",title:d.formatMessage({id:"pages.account.mjSettings"}),style:{margin:"5px"},children:[(0,e.jsx)(O.Z,{style:{width:"35%"},placeholder:(Z=i.versionSelector)===null||Z===void 0?void 0:Z.placeholder,value:B,onChange:Se,loading:H,children:Me()}),(0,e.jsx)(ue.Z,{wrap:!0,style:{marginTop:"5px"},children:ee()})]}),(0,e.jsx)(W.Z,{type:"inner",title:d.formatMessage({id:"pages.account.nijiSettings"}),style:{margin:"5px"},children:(0,e.jsx)(ue.Z,{wrap:!0,style:{marginTop:"5px"},children:ie()})})]})},Ye=He,Je=function(I){var Z=I.form,i=I.onSubmit,S=I.record,t=I.r,s=(0,te.useIntl)();(0,g.useEffect)(function(){Z.setFieldsValue(S)},[]),(0,g.useEffect)(function(){Z.setFieldsValue(S)},[t]);var T=(0,g.useState)([]),P=j()(T,2),E=P[0],V=P[1];(0,g.useEffect)(function(){(0,J.fl)().then(function(u){u.success&&V(u.data)})},[]);var B=(0,g.useState)(!1),C=j()(B,2),D=C[0],k=C[1],$=(0,g.useState)(""),A=j()($,2),R=A[0],N=A[1],Y=function(){k(!0)},F=function(){S.subChannels=R.split(`
`),Z.setFieldsValue({subChannels:R.split(`
`)}),k(!1)},v=function(){k(!1)};return(0,e.jsxs)(a.Z,{form:Z,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[(0,e.jsxs)(pe.Z,{gutter:16,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.guildId"}),name:"guildId",rules:[{required:!0}],children:(0,e.jsx)(l.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.channelId"}),name:"channelId",rules:[{required:!0}],children:(0,e.jsx)(l.Z,{disabled:!0})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.userToken"}),name:"userToken",rules:[{required:!0}],children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.botToken"}),name:"botToken",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:"User Agent",name:"userAgent",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.enable"}),name:"enable",valuePropName:"checked",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableFastToRelax"}),name:"enableFastToRelax",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableFastToRelaxTips"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableRelaxToFast"}),name:"enableRelaxToFast",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableRelaxToFastTips"}),children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mode"}),name:"mode",children:(0,e.jsxs)(O.Z,{allowClear:!0,children:[(0,e.jsx)(O.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(O.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(O.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.allowModes"}),name:"allowModes",tooltip:"\u5982\u679C\u7528\u6237\u6307\u5B9A\u6A21\u5F0F\u6216\u6DFB\u52A0\u4E86\u81EA\u5B9A\u4E49\u53C2\u6570\u4F8B\u5982 --fast\uFF0C\u4F46\u662F\u8D26\u53F7\u4E0D\u5141\u8BB8 FAST\uFF0C\u5219\u81EA\u52A8\u79FB\u9664\u6B64\u53C2\u6570",children:(0,e.jsxs)(O.Z,{allowClear:!0,mode:"multiple",children:[(0,e.jsx)(O.Z.Option,{value:"RELAX",children:"RELAX"}),(0,e.jsx)(O.Z.Option,{value:"FAST",children:"FAST"}),(0,e.jsx)(O.Z.Option,{value:"TURBO",children:"TURBO"})]})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableAutoSetRelax"}),name:"enableAutoSetRelax",valuePropName:"checked",tooltip:s.formatMessage({id:"pages.account.enableAutoSetRelaxTips"}),children:(0,e.jsx)(M.Z,{})})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:s.formatMessage({id:"pages.account.poolsize"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.coreSize"}),name:"coreSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.queueSize"}),name:"queueSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.maxQueueSize"}),name:"maxQueueSize",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.interval"}),name:"interval",children:(0,e.jsx)(w.Z,{min:1.2})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.intervalAfter"}),children:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:(0,e.jsxs)(ue.Z,{children:[(0,e.jsx)(a.Z.Item,{name:"afterIntervalMin",style:{margin:0},children:(0,e.jsx)(w.Z,{min:1.2,placeholder:"Min"})}),"~",(0,e.jsx)(a.Z.Item,{name:"afterIntervalMax",style:{margin:0},children:(0,e.jsx)(w.Z,{min:1.2,placeholder:"Max"})})]})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:S.dayDrawCount>0&&(0,e.jsxs)("span",{children:[s.formatMessage({id:"pages.account.dayDrawCount"})," ",S.dayDrawCount]}),children:(0,e.jsx)(w.Z,{min:-1})})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(W.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(O.Z,{options:E,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(w.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(w.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(l.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.workTime"}),name:"workTime",children:(0,e.jsx)(l.Z,{placeholder:"09:00-17:00, 18:00-22:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.fishingTime"}),help:s.formatMessage({id:"pages.account.fishingTimeTips"}),name:"fishingTime",children:(0,e.jsx)(l.Z,{placeholder:"23:30-09:00, 00:00-10:00"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){N(Z.getFieldValue("subChannels").join(`
`)),Y()},icon:(0,e.jsx)(Ie.Z,{})}),children:(0,e.jsx)(l.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(l.Z,{})})]})})]}),(0,e.jsxs)(he.Z,{title:s.formatMessage({id:"pages.account.subChannels"}),visible:D,onOk:F,onCancel:v,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(xe.Z,{message:s.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(l.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:R,onChange:function(H){N(H.target.value)}})]}),(0,e.jsx)(xe.Z,{message:s.formatMessage({id:"pages.account.updateNotice"}),type:"warning",style:{marginTop:"10px"}})]})},We=Je,Xe=function(I){var Z=I.form,i=I.onSubmit,S=I.record,t=I.r,s=(0,te.useIntl)();(0,g.useEffect)(function(){Z.setFieldsValue(S)},[]),(0,g.useEffect)(function(){Z.setFieldsValue(S)},[t]);var T=(0,g.useState)([]),P=j()(T,2),E=P[0],V=P[1];(0,g.useEffect)(function(){(0,J.fl)().then(function(u){u.success&&V(u.data)})},[]);var B=(0,g.useState)(!1),C=j()(B,2),D=C[0],k=C[1],$=(0,g.useState)(""),A=j()($,2),R=A[0],N=A[1],Y=function(){k(!0)},F=function(){S.subChannels=R.split(`
`),Z.setFieldsValue({subChannels:R.split(`
`)}),k(!1)},v=function(){k(!1)};return(0,e.jsxs)(a.Z,{form:Z,labelAlign:"left",layout:"horizontal",labelCol:{span:8},wrapperCol:{span:16},onFinish:i,children:[(0,e.jsxs)(pe.Z,{gutter:16,children:[(0,e.jsx)(se.Z,{span:12,children:(0,e.jsxs)(W.Z,{type:"inner",title:s.formatMessage({id:"pages.account.info"}),children:[(0,e.jsx)(a.Z.Item,{label:"id",name:"id",hidden:!0,children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.mjChannelId"}),name:"privateChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.nijiChannelId"}),name:"nijiBotChannelId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remixAutoSubmit"}),name:"remixAutoSubmit",valuePropName:"checked",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableMj"}),name:"enableMj",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.enableNiji"}),name:"enableNiji",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isBlend"}),name:"isBlend",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isDescribe"}),name:"isDescribe",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isShorten"}),name:"isShorten",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.dayDrawLimit"}),name:"dayDrawLimit",extra:S.dayDrawCount>0&&(0,e.jsxs)("span",{children:[s.formatMessage({id:"pages.account.dayDrawCount"})," ",S.dayDrawCount]}),children:(0,e.jsx)(w.Z,{min:-1})})]})}),(0,e.jsx)(se.Z,{span:12,children:(0,e.jsxs)(W.Z,{type:"inner",title:s.formatMessage({id:"pages.account.otherInfo"}),children:[(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.permanentInvitationLink"}),name:"permanentInvitationLink",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.isVerticalDomain"}),name:"isVerticalDomain",children:(0,e.jsx)(M.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.verticalDomainIds"}),name:"verticalDomainIds",children:(0,e.jsx)(O.Z,{options:E,allowClear:!0,mode:"multiple"})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.timeoutMinutes"}),name:"timeoutMinutes",children:(0,e.jsx)(w.Z,{min:1,suffix:s.formatMessage({id:"pages.minutes"})})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.weight"}),name:"weight",children:(0,e.jsx)(w.Z,{min:1})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sponsor"}),name:"sponsor",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.remark"}),name:"remark",children:(0,e.jsx)(l.Z.TextArea,{autoSize:{minRows:1,maxRows:6}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.sort"}),name:"sort",children:(0,e.jsx)(w.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.subChannels"}),name:"subChannels",extra:(0,e.jsx)(U.ZP,{type:"primary",onClick:function(){N(Z.getFieldValue("subChannels").join(`
`)),Y()},icon:(0,e.jsx)(Ie.Z,{})}),children:(0,e.jsx)(l.Z.TextArea,{disabled:!0,autoSize:{minRows:1,maxRows:1}})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginAccount"}),name:"loginAccount",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.loginPassword"}),name:"loginPassword",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(a.Z.Item,{label:s.formatMessage({id:"pages.account.login2fa"}),name:"login2fa",children:(0,e.jsx)(l.Z,{})})]})})]}),(0,e.jsxs)(he.Z,{title:s.formatMessage({id:"pages.account.subChannels"}),visible:D,onOk:F,onCancel:v,width:960,children:[(0,e.jsx)("div",{children:(0,e.jsx)(xe.Z,{message:s.formatMessage({id:"pages.account.subChannelsHelp"}),type:"info",style:{marginBottom:"10px"}})}),(0,e.jsx)(l.Z.TextArea,{placeholder:"https://discord.com/channels/xxx/xxx",autoSize:{minRows:10,maxRows:24},style:{width:"100%"},value:R,onChange:function(H){N(H.target.value)}})]})]})},Ge=Xe,Ke=r(94149),Qe=r(66212),ke=r(77213),qe=r(3253),_e=r(3355),ea=r(2830),aa=r(47389),sa=r(88360),na=r(90930),ta=r(93049),ia=function(){var I=(0,g.useState)(!1),Z=j()(I,2),i=Z[0],S=Z[1],t=(0,g.useState)(!1),s=j()(t,2),T=s[0],P=s[1],E=(0,g.useState)((0,e.jsx)(e.Fragment,{})),V=j()(E,2),B=V[0],C=V[1],D=(0,g.useState)(""),k=j()(D,2),$=k[0],A=k[1],R=(0,g.useState)(1e3),N=j()(R,2),Y=N[0],F=N[1],v=a.Z.useForm(),u=j()(v,1),H=u[0],o=ge.ZP.useNotification(),je=j()(o,2),K=je[0],fe=je[1],Ze=(0,g.useState)(!1),d=j()(Ze,2),ve=d[0],X=d[1],f=(0,te.useIntl)(),Me=(0,g.useRef)(),ee=function(){C((0,e.jsx)(e.Fragment,{})),S(!1),P(!1)},ie=function(m,n,c){H.resetFields(),A(m),C(n),F(c),S(!0)},Se=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(U.ZP,{onClick:ee,children:f.formatMessage({id:"pages.cancel"})},"back"),(0,e.jsx)(U.ZP,{type:"primary",loading:ve,onClick:function(){return H.submit()},children:f.formatMessage({id:"pages.submit"})},"submit")]}),q=function(){var m;ee(),(m=Me.current)===null||m===void 0||m.reload()},Q=function(){var h=G()(y()().mark(function m(n){var c,z;return y()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.prev=0,n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),X(!0),ne.next=6,(0,J.o1)(n);case 6:c=ne.sent,c.success?(z=ce()(ce()({},n),{},{id:"",userToken:"",botToken:"",subChannels:[],remark:"",channelId:"",privateChannelId:"",nijiBotChannelId:"",guildId:"",loginAccount:"",loginPassword:"",login2fa:""}),localStorage.setItem("account_cache",JSON.stringify(z)),K.success({message:"success",description:c.message}),ee(),q()):K.error({message:"error",description:c.message});case 8:return ne.prev=8,X(!1),ne.finish(8);case 11:case"end":return ne.stop()}},m,null,[[0,,8,11]])}));return function(n){return h.apply(this,arguments)}}(),p=function(){var h=G()(y()().mark(function m(n){var c;return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(x.prev=0,!(!n.loginAccount||!n.loginPassword||!n.login2fa)){x.next=4;break}return K.error({message:"error",description:f.formatMessage({id:"pages.account.loginAccountGetTokenError"})}),x.abrupt("return");case 4:return x.next=6,(0,J.uq)(n.id);case 6:c=x.sent,c.success?(K.success({message:"success",description:c.message}),ee(),q()):K.error({message:"error",description:c.message});case 8:return x.prev=8,x.finish(8);case 10:case"end":return x.stop()}},m,null,[[0,,8,10]])}));return function(n){return h.apply(this,arguments)}}(),L=function(){var h=G()(y()().mark(function m(n){var c;return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return n.subChannels||(n.subChannels=[]),x.prev=1,typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),X(!0),x.next=6,(0,J.MS)(n.id,n);case 6:c=x.sent,c.success?(K.success({message:"success",description:c.message}),ee(),q()):K.error({message:"error",description:c.message});case 8:return x.prev=8,X(!1),x.finish(8);case 11:case"end":return x.stop()}},m,null,[[1,,8,11]])}));return function(n){return h.apply(this,arguments)}}(),_=function(){var h=G()(y()().mark(function m(n){var c;return y()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.prev=0,n.subChannels||(n.subChannels=[]),typeof n.subChannels=="string"&&(n.subChannels=n.subChannels.split(`
`)),X(!0),x.next=6,(0,J.Vx)(n.id,n);case 6:c=x.sent,c.success?K.success({message:"success",description:c.message}):K.error({message:"error",description:c.message}),ee(),q();case 10:return x.prev=10,X(!1),x.finish(10);case 13:case"end":return x.stop()}},m,null,[[0,,10,13]])}));return function(n){return h.apply(this,arguments)}}(),re=function(){var h=G()(y()().mark(function m(){return y()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:try{X(!0),ee(),q()}finally{X(!1)}case 1:case"end":return c.stop()}},m)}));return function(){return h.apply(this,arguments)}}(),ae=[{title:f.formatMessage({id:"pages.account.guildId"}),dataIndex:"guildId",width:200,align:"center",sorter:!0,render:function(m,n){return(0,e.jsx)("a",{onClick:function(){P(!0),ie(f.formatMessage({id:"pages.account.info"})+" - "+n.id,(0,e.jsx)(Ye,{record:n,onSuccess:q}),1100)},children:m})}},{title:f.formatMessage({id:"pages.account.channelId"}),dataIndex:"channelId",align:"center",width:200,sorter:!0},{title:"".concat(f.formatMessage({id:"pages.account.status"})),dataIndex:"enable",width:200,align:"center",sorter:!0,request:function(){var h=G()(y()().mark(function n(){return y()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.abrupt("return",[{label:f.formatMessage({id:"pages.enable"}),value:!0},{label:f.formatMessage({id:"pages.disable"}),value:!1}]);case 1:case"end":return z.stop()}},n)}));function m(){return h.apply(this,arguments)}return m}(),render:function(m,n){var c=m?"green":"volcano",z=m?f.formatMessage({id:"pages.enable"}):f.formatMessage({id:"pages.disable"});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le.Z,{color:c,children:z}),n.isAutoLogining&&(0,e.jsx)(le.Z,{color:"orange",children:f.formatMessage({id:"pages.account.isAutoLogining"})}),n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Ke.Z,{}),color:"warning",children:(0,e.jsx)(de.Z,{title:f.formatMessage({id:"pages.account.lockmsg"}),children:f.formatMessage({id:"pages.account.lock"})})}),m&&!n.running&&!n.lock&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(be.Z,{}),color:"error",children:f.formatMessage({id:"pages.account.notRunning"})}),(n==null?void 0:n.runningCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(be.Z,{spin:!0}),color:"cyan",children:(0,e.jsx)(de.Z,{title:f.formatMessage({id:"pages.account.runningCount"})+" "+n.runningCount,children:(n==null?void 0:n.runningCount)||0})}),(n==null?void 0:n.queueCount)>0&&(0,e.jsx)(le.Z,{icon:(0,e.jsx)(Qe.Z,{}),color:"processing",children:(0,e.jsx)(de.Z,{title:f.formatMessage({id:"pages.account.queueCount"})+" "+n.queueCount,children:n.queueCount||0})})]})}},{title:f.formatMessage({id:"pages.account.fastTimeRemaining"}),dataIndex:"fastTimeRemaining",ellipsis:!0,width:200,hideInSearch:!0,align:"center"},{title:f.formatMessage({id:"pages.account.allowModes"}),dataIndex:"allowModes",align:"center",width:160,hideInSearch:!0,render:function(m,n){var c;return((c=n.allowModes)===null||c===void 0?void 0:c.join("\u3001"))||"ALL"}},{title:f.formatMessage({id:"pages.account.renewDate"}),dataIndex:"renewDate",align:"center",width:160,hideInSearch:!0,render:function(m,n){return n.displays.renewDate}},{title:f.formatMessage({id:"pages.account.sponsor"}),dataIndex:"sponsor",ellipsis:!0,width:100,sorter:!0,render:function(m,n){return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[n.sponsorUserId&&(0,e.jsx)(ke.Z,{twoToneColor:"#eb2f96",style:{marginRight:2}}),(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:n.sponsor||"-"}})]})}},{title:f.formatMessage({id:"pages.account.remark"}),dataIndex:"remark",ellipsis:!0,sorter:!0,width:150},{title:f.formatMessage({id:"pages.account.disabledReason"}),dataIndex:"disabledReason",ellipsis:!0,width:150,hideInSearch:!0},{title:f.formatMessage({id:"pages.account.dateCreated"}),dataIndex:"dateCreated",ellipsis:!0,width:140,sorter:!0,hideInSearch:!0,renderText:function(m,n){return Te()(m).format("YYYY-MM-DD HH:mm")}},{title:f.formatMessage({id:"pages.operation"}),dataIndex:"operation",width:220,key:"operation",fixed:"right",align:"center",hideInSearch:!0,render:function(m,n){return(0,e.jsxs)(ue.Z,{children:[(0,e.jsx)(de.Z,{title:f.formatMessage({id:"pages.account.loginAccountGetToken"}),children:(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(qe.Z,{}),type:"dashed",onClick:function(){return p(n)}},"login")}),n.lock&&(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(_e.Z,{}),type:"dashed",onClick:function(){return ie(f.formatMessage({id:"pages.account.cfmodal"}),(0,e.jsx)(Ee,{form:H,record:n,onSubmit:re}),1e3)}},"Lock"),(0,e.jsx)(Le,{record:n,onSuccess:q}),(0,e.jsx)(de.Z,{title:f.formatMessage({id:"pages.account.updateAndReconnect"}),children:(0,e.jsx)(U.ZP,{type:"primary",icon:(0,e.jsx)(ea.Z,{}),onClick:function(){ie(f.formatMessage({id:"pages.account.updateAndReconnect"}),(0,e.jsx)(We,{r:Math.random(),form:H,record:n,onSubmit:L}),1600)}},"EditAndReconnect")}),(0,e.jsx)(U.ZP,{icon:(0,e.jsx)(aa.Z,{}),onClick:function(){return ie(f.formatMessage({id:"pages.account.update"}),(0,e.jsx)(Ge,{r:Math.random(),form:H,record:n,onSubmit:_}),1e3)}},"Update"),(0,e.jsx)(Ne,{record:n,onSuccess:q})]})}}];return(0,g.useEffect)(function(){},[]),(0,e.jsxs)(na._z,{children:[fe,(0,e.jsx)(W.Z,{children:(0,e.jsx)(ta.Z,{columns:ae,scroll:{x:1e3},search:{defaultCollapsed:!0},pagination:{pageSize:10,showQuickJumper:!1,showSizeChanger:!1},rowKey:"id",actionRef:Me,toolBarRender:function(){return[(0,e.jsx)(U.ZP,{type:"dashed",icon:(0,e.jsx)(ke.Z,{twoToneColor:"#eb2f96"}),onClick:function(){ie(f.formatMessage({id:"pages.account.sponsorAccountTitle"}),(0,e.jsx)(we,{r:Math.random(),form:H,onSubmit:function(c){return Q(ce()(ce()({},c),{},{isSponsor:!0}))}}),1600)},children:f.formatMessage({id:"pages.account.sponsorAccount"})},"sponsor"),(0,e.jsx)(U.ZP,{type:"primary",icon:(0,e.jsx)(sa.Z,{}),onClick:function(){ie(f.formatMessage({id:"pages.account.add"}),(0,e.jsx)(we,{r:Math.random(),form:H,onSubmit:Q}),1600)},children:f.formatMessage({id:"pages.add"})},"primary")]},request:function(){var h=G()(y()().mark(function m(n,c){var z,x;return y()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return z=Object.keys(c),me.next=3,(0,J.fH)(ce()(ce()({},n),{},{pageNumber:n.current-1}),z.length>0?z[0]:"",(z.length>0?c[z[0]]:"")=="descend");case 3:return x=me.sent,me.abrupt("return",{data:x.list,total:x.pagination.total,success:!0});case 5:case"end":return me.stop()}},m)}));return function(m,n){return h.apply(this,arguments)}}()})}),(0,e.jsx)(he.Z,{title:$,open:i,onCancel:ee,footer:T?null:Se,width:Y,children:B})]})},ra=ia}}]);
